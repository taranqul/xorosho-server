<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="995px" preserveAspectRatio="none" style="width:740px;height:995px;background:#FFFFFF;" version="1.1" viewBox="0 0 740 995" width="740px" zoomAndPan="magnify"><defs/><g><!--cluster kafka--><g class="cluster" data-entity="kafka" data-source-line="11" data-uid="ent0009" id="cluster_kafka"><rect fill="none" height="211.14" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="219" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="40.1658" x="96.4171" y="23.9659">Kafka</text></g><!--entity tasks--><g class="entity" data-entity="tasks" data-source-line="12" data-uid="ent0010" id="entity_tasks"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.7959" x="23.1" y="45"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.7959" x="33.1" y="69.9659">tasks</text></g><!--entity upload_files--><g class="entity" data-entity="upload_files" data-source-line="13" data-uid="ent0011" id="entity_upload_files"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.6657" x="111.67" y="45"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.6657" x="121.67" y="69.9659">upload_files</text></g><!--entity task_result--><g class="entity" data-entity="task_result" data-source-line="14" data-uid="ent0012" id="entity_task_result"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.0077" x="23.5" y="163.07"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.0077" x="33.5" y="188.0359">task_result</text></g><!--entity api--><g class="entity" data-entity="api" data-source-line="3" data-uid="ent0002" id="entity_api"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.7957" x="346.6" y="45"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.7957" x="356.6" y="69.9659">API Gateway</text></g><!--entity tm--><g class="entity" data-entity="tm" data-source-line="4" data-uid="ent0003" id="entity_tm"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.8056" x="241.6" y="163.07"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.8056" x="251.6" y="188.0359">Task Manager</text></g><!--entity td--><g class="entity" data-entity="td" data-source-line="5" data-uid="ent0004" id="entity_td"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.5656" x="371.72" y="426.14"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.5656" x="381.72" y="451.1059">Task Dispatcher</text></g><!--entity hm--><g class="entity" data-entity="hm" data-source-line="6" data-uid="ent0005" id="entity_hm"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.7656" x="453.12" y="544.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7656" x="463.12" y="569.1659">Handler Manager</text></g><!--entity sg--><g class="entity" data-entity="sg" data-source-line="7" data-uid="ent0006" id="entity_sg"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.9856" x="536.01" y="163.07"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9856" x="546.01" y="188.0359">Storage Gateway</text></g><!--entity s3--><g class="entity" data-entity="s3" data-source-line="8" data-uid="ent0007" id="entity_s3"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.5515" x="369.22" y="674.74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.5515" x="379.22" y="699.7059">Object Storage (S3)</text></g><!--entity sn--><g class="entity" data-entity="sn" data-source-line="9" data-uid="ent0008" id="entity_sn"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.5575" x="272.22" y="805.27"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.5575" x="282.22" y="830.2359">Storage Notification</text></g><!--entity handler--><g class="entity" data-entity="handler" data-source-line="17" data-uid="ent0013" id="entity_handler"><rect fill="#F1F1F1" height="39.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.2397" x="311.88" y="544.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.2397" x="321.88" y="569.1659">Task Handler</text></g><!--entity kafka.upload_files--><g class="entity" data-entity="kafka.upload_files" data-source-line="25" data-uid="ent0018" id="entity_kafka.upload_files"><ellipse cx="154" cy="955.34" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.8935" x="95.0532" y="987.3059">kafka.upload_files</text></g><!--entity kafka.tasks--><g class="entity" data-entity="kafka.tasks" data-source-line="29" data-uid="ent0021" id="entity_kafka.tasks"><ellipse cx="395" cy="315.14" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.0237" x="358.4881" y="347.1059">kafka.tasks</text></g><!--entity kafka.task_result--><g class="entity" data-entity="kafka.task_result" data-source-line="36" data-uid="ent0027" id="entity_kafka.task_result"><ellipse cx="265" cy="694.27" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.2356" x="209.8822" y="726.2359">kafka.task_result</text></g><!--link api to tm--><g class="link" data-entity-1="api" data-entity-2="tm" data-source-line="19" data-uid="lnk14" id="link_api_tm"><path d="M381.71,84.44 C363.12,106.02 336.7972,136.5752 318.1972,158.1552" fill="none" id="api-to-tm" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="314.28,162.7,323.1857,158.4943,317.5444,158.9127,317.126,153.2713,314.28,162.7" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7491" x="354.99" y="128.967">createTask()</text></g><!--link api to sg--><g class="link" data-entity-1="api" data-entity-2="sg" data-source-line="20" data-uid="lnk15" id="link_api_sg"><path d="M431.23,84.44 C469.17,106.02 525.635,138.1529 563.565,159.7329" fill="none" id="api-to-sg" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="568.78,162.7,562.9355,154.7727,564.4341,160.2275,558.9794,161.7261,568.78,162.7" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.1881" x="513.21" y="128.967">requestUploadURL()</text></g><!--link sg to s3--><g class="link" data-entity-1="sg" data-entity-2="s3" data-source-line="22" data-uid="lnk16" id="link_sg_s3"><path d="M611.68,202.51 C623.52,227.41 642,272.89 642,314.14 C642,314.14 642,314.14 642,564.74 C642,627.17 577.9412,658.98 520.8012,675.97" fill="none" id="sg-to-s3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="515.05,677.68,524.8168,678.949,519.8426,676.255,522.5367,671.2808,515.05,677.68" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.4141" x="643" y="451.067">presigned URL</text></g><!--link s3 to sn--><g class="link" data-entity-1="s3" data-entity-2="sn" data-source-line="24" data-uid="lnk17" id="link_s3_sn"><path d="M428.13,714.24 C410.26,738.68 382.912,776.067 365.162,800.337" fill="none" id="s3-to-sn" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="361.62,805.18,370.1616,800.2768,364.5716,801.1442,363.7043,795.5542,361.62,805.18" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.8771" x="396" y="771.167">upload completed</text></g><!--link sn to kafka.upload_files--><g class="link" data-entity-1="sn" data-entity-2="kafka.upload_files" data-source-line="25" data-uid="lnk19" id="link_sn_kafka.upload_files"><path d="M319.37,844.77 C274.47,874.52 194.8125,927.3071 167.6325,945.3071" fill="none" id="sn-to-kafka.upload_files" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="162.63,948.62,172.3423,946.9856,166.7987,945.8593,167.9251,940.3157,162.63,948.62" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3681" x="275.08" y="889.237">publish event</text></g><!--link kafka.upload_files to tm--><g class="link" data-entity-1="kafka.upload_files" data-entity-2="tm" data-source-line="27" data-uid="lnk20" id="link_kafka.upload_files_tm"><path d="M150.9,946.36 C143.42,926.38 125,872.47 125,825.81 C125,314.14 125,314.14 125,314.14 C125,296.45 213.2471,237.5754 262.8171,205.8354" fill="none" id="kafka.upload_files-to-tm" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="267.87,202.6,258.1337,204.0845,263.6592,205.2962,262.4476,210.8217,267.87,202.6" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.7551" x="126" y="569.137">file uploaded</text></g><!--link tm to kafka.tasks--><g class="link" data-entity-1="tm" data-entity-2="kafka.tasks" data-source-line="29" data-uid="lnk22" id="link_tm_kafka.tasks"><path d="M312.1,202.58 C333.75,231.72 370.661,281.3843 385.651,301.5543" fill="none" id="tm-to-kafka.tasks" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="389.23,306.37,387.072,296.7605,386.2475,302.3569,380.6511,301.5324,389.23,306.37" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.5281" x="350.41" y="249.037">publish task</text></g><!--link kafka.tasks to td--><g class="link" data-entity-1="kafka.tasks" data-entity-2="td" data-source-line="30" data-uid="lnk23" id="link_kafka.tasks_td"><path d="M397.32,323.79 C403.36,343.68 417.9166,391.6889 426.6166,420.3389" fill="none" id="kafka.tasks-to-td" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="428.36,426.08,429.5724,416.306,426.9072,421.2957,421.9175,418.6306,428.36,426.08" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.4221" x="420.14" y="392.037">consume task</text></g><!--link td to hm--><g class="link" data-entity-1="td" data-entity-2="hm" data-source-line="32" data-uid="lnk24" id="link_td_hm"><path d="M454.83,465.45 C463.75,474.04 473.95,484.65 482,495.2 C493.74,510.6 501.787,524.5289 509.027,538.5489" fill="none" id="td-to-hm" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="511.78,543.88,511.2046,534.048,509.4858,539.4374,504.0964,537.7187,511.78,543.88" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.8741" x="495.13" y="510.097">resolve handler</text></g><!--link td to handler--><g class="link" data-entity-1="td" data-entity-2="handler" data-source-line="33" data-uid="lnk25" id="link_td_handler"><path d="M417.76,465.29 C410.58,474.02 402.35,484.79 396,495.2 C386.47,510.85 380.239,524.3656 374.569,538.2456" fill="none" id="td-to-handler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="372.3,543.8,379.4064,536.981,374.1908,539.1713,372.0005,533.9557,372.3,543.8" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.3661" x="397" y="510.097">dispatch task</text></g><!--link handler to s3--><g class="link" data-entity-1="handler" data-entity-2="s3" data-source-line="35" data-uid="lnk26" id="link_handler_s3"><path d="M381.13,583.42 C388.29,592.17 396.53,602.93 403,613.27 C415.45,633.18 424.4769,652.1479 431.6969,668.7479" fill="none" id="handler-to-s3" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="434.09,674.25,434.1684,664.4015,432.0958,669.6649,426.8323,667.5922,434.09,674.25" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.91" x="413.78" y="628.167">read/write files</text></g><!--link handler to kafka.task_result--><g class="link" data-entity-1="handler" data-entity-2="kafka.task_result" data-source-line="36" data-uid="lnk28" id="link_handler_kafka.task_result"><path d="M340.06,583.69 C330,592.08 318.73,602.48 310,613.27 C290.56,637.31 277.1535,665.3668 270.6335,680.2068" fill="none" id="handler-to-kafka.task_result" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="268.22,685.7,275.5023,679.0692,270.2312,681.1223,268.178,675.8512,268.22,685.7" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.3821" x="311" y="628.167">publish result</text></g><!--link kafka.task_result to tm--><g class="link" data-entity-1="kafka.task_result" data-entity-2="tm" data-source-line="38" data-uid="lnk29" id="link_kafka.task_result_tm"><path d="M264.38,685.45 C262.85,665.41 259,610.53 259,564.74 C259,314.14 259,314.14 259,314.14 C259,272.98 274.5004,232.9153 286.0404,207.9753" fill="none" id="kafka.task_result-to-tm" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="288.56,202.53,281.1504,209.0182,286.4603,207.0678,288.4108,212.3777,288.56,202.53" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9601" x="260" y="451.067">update state</text></g><!--SRC=[RP9BRy8m48Jl-ojMES61zi2DGwLAbTggJvLoHYPU4XV7IMq7XAh-zwwT1qdX4YNxJSOpcxYTCfMmei2qBAhIaF5BVzI4bb8lJAO9e2UOtBu_uhtmT13718L3KQaX_XHkXo_2Y8nivBuumtVALSAdUQUGGyM3C5AJ7Nda8u-bBosZKGgN3HLlco_EZfrmifnF6zNyaizhwTLMfSAhqZGoCshy9BOx4S4ktE4F80wmvqek6S_gIfT2hhTAqtyKv6jBhjO-WLyuMqxRl-dTt0Fmad4sk-5buW9JIzmyY2VJdhYCYQNlcfnVnTDN7y_CWK7aS-OLdwioGn8PCfeto31g4iUWcZn9u6c0iVBLi4_mgJTQkHnfpxa1BcZwiE6nDMTJuDd9DMvkO1UUOOYYYmoLI-FgWXe5y2YGl8YLNQdtrA-gO-rVj43P_cpjknteTyBBbDS7gpp5h6waE8LfFzaWRJC0EDVqvUjAyfT2v_aAVm00]--></g></svg>