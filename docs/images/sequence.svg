<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="631px" preserveAspectRatio="none" style="width:887px;height:631px;background:#FFFFFF;" version="1.1" viewBox="0 0 887 631" width="887px" zoomAndPan="magnify"><defs/><g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="22.8369" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="26" x2="26" y1="84.0679" y2="547.9521"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="118.818" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="122.4201" x2="122.4201" y1="84.0679" y2="547.9521"/></g><g><title>Task Manager</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="255.2421" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="258.8393" x2="258.8393" y1="84.0679" y2="547.9521"/></g><g><title>Storage Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="381.6377" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="384.6449" x2="384.6449" y1="84.0679" y2="547.9521"/></g><g><title>Object Storage</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="510.5393" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="513.6305" x2="513.6305" y1="84.0679" y2="547.9521"/></g><g><title>Kafka</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="644.9614" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="648.6285" x2="648.6285" y1="84.0679" y2="547.9521"/></g><g><title>Task Dispatcher</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="739.5771" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="743.2943" x2="743.2943" y1="84.0679" y2="547.9521"/></g><g><title>Handler</title><rect fill="#000000" fill-opacity="0.00000" height="463.8842" width="8" x="843.9432" y="84.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="847.5533" x2="847.5533" y1="84.0679" y2="547.9521"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="5" y="79.9659">Client</text><ellipse cx="26.8369" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26.8369,21.5 L26.8369,48.5 M13.8369,29.5 L39.8369,29.5 M26.8369,48.5 L13.8369,63.5 M26.8369,48.5 L39.8369,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="5" y="561.9181">Client</text><ellipse cx="26.8369" cy="574.5201" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M26.8369,582.5201 L26.8369,609.5201 M13.8369,590.5201 L39.8369,590.5201 M26.8369,609.5201 L13.8369,624.5201 M26.8369,609.5201 L39.8369,624.5201" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="api"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.7957" x="74.4201" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.7957" x="81.4201" y="71.9659">API Gateway</text></g><g class="participant participant-tail" data-participant="api"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.7957" x="74.4201" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.7957" x="81.4201" y="568.9181">API Gateway</text></g><g class="participant participant-head" data-participant="tm"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.8056" x="205.8393" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.8056" x="212.8393" y="71.9659">Task Manager</text></g><g class="participant participant-tail" data-participant="tm"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.8056" x="205.8393" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.8056" x="212.8393" y="568.9181">Task Manager</text></g><g class="participant participant-head" data-participant="sg"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.9856" x="322.6449" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9856" x="329.6449" y="71.9659">Storage Gateway</text></g><g class="participant participant-tail" data-participant="sg"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.9856" x="322.6449" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.9856" x="329.6449" y="568.9181">Storage Gateway</text></g><g class="participant participant-head" data-participant="s3"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.8176" x="458.6305" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.8176" x="465.6305" y="71.9659">Object Storage</text></g><g class="participant participant-tail" data-participant="s3"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.8176" x="458.6305" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.8176" x="465.6305" y="568.9181">Object Storage</text></g><g class="participant participant-head" data-participant="kafka"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50.6659" x="623.6285" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.6659" x="630.6285" y="71.9659">Kafka</text></g><g class="participant participant-tail" data-participant="kafka"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="50.6659" x="623.6285" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.6659" x="630.6285" y="568.9181">Kafka</text></g><g class="participant participant-head" data-participant="td"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.5656" x="684.2943" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.5656" x="691.2943" y="71.9659">Task Dispatcher</text></g><g class="participant participant-tail" data-participant="td"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.5656" x="684.2943" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.5656" x="691.2943" y="568.9181">Task Dispatcher</text></g><g class="participant participant-head" data-participant="handler"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66.7798" x="814.5533" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.7798" x="821.5533" y="71.9659">Handler</text></g><g class="participant participant-tail" data-participant="handler"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66.7798" x="814.5533" y="546.9521"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.7798" x="821.5533" y="568.9181">Handler</text></g><g class="message" data-participant-1="Client" data-participant-2="api"><polygon fill="#181818" points="110.818,113.7739,120.818,117.7739,110.818,121.7739,114.818,117.7739" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="26.8369" x2="116.818" y1="117.7739" y2="117.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.9811" x="33.8369" y="111.9649">POST /tasks</text></g><g class="message" data-participant-1="api" data-participant-2="tm"><polygon fill="#181818" points="247.2421,145.4799,257.2421,149.4799,247.2421,153.4799,251.2421,149.4799" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="122.818" x2="253.2421" y1="149.4799" y2="149.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.1611" x="129.818" y="143.6709">registerTask()</text></g><g class="message" data-participant-1="api" data-participant-2="sg"><polygon fill="#181818" points="373.6377,177.186,383.6377,181.186,373.6377,185.186,377.6377,181.186" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="122.818" x2="379.6377" y1="181.186" y2="181.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.2261" x="129.818" y="175.377">getUploadURL()</text></g><g class="message" data-participant-1="Client" data-participant-2="s3"><polygon fill="#181818" points="502.5393,208.892,512.5393,212.892,502.5393,216.892,506.5393,212.892" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="26.8369" x2="508.5393" y1="212.892" y2="212.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.0222" x="33.8369" y="207.083">upload file (presigned URL)</text></g><g class="message" data-participant-1="s3" data-participant-2="kafka"><polygon fill="#181818" points="636.9614,240.598,646.9614,244.598,636.9614,248.598,640.9614,244.598" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="514.5393" x2="642.9614" y1="244.598" y2="244.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.4221" x="521.5393" y="238.789">upload_files event</text></g><g class="message" data-participant-1="kafka" data-participant-2="tm"><polygon fill="#181818" points="270.2421,272.304,260.2421,276.304,270.2421,280.304,266.2421,276.304" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="264.2421" x2="647.9614" y1="276.304" y2="276.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.0471" x="276.2421" y="270.495">upload_files</text></g><g class="message" data-participant-1="tm" data-participant-2="kafka"><polygon fill="#181818" points="636.9614,304.01,646.9614,308.01,636.9614,312.01,640.9614,308.01" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="259.2421" x2="642.9614" y1="308.01" y2="308.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.5281" x="266.2421" y="302.201">publish task</text></g><g class="message" data-participant-1="kafka" data-participant-2="td"><polygon fill="#181818" points="731.5771,335.716,741.5771,339.716,731.5771,343.716,735.5771,339.716" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="648.9614" x2="737.5771" y1="339.716" y2="339.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.53" x="655.9614" y="333.907">task event</text></g><g class="message" data-participant-1="td" data-participant-2="handler"><polygon fill="#181818" points="835.9432,367.4221,845.9432,371.4221,835.9432,375.4221,839.9432,371.4221" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="743.5771" x2="841.9432" y1="371.4221" y2="371.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.3661" x="750.5771" y="365.6131">dispatch task</text></g><g class="message" data-participant-1="handler" data-participant-2="s3"><polygon fill="#181818" points="525.5393,399.1281,515.5393,403.1281,525.5393,407.1281,521.5393,403.1281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="519.5393" x2="846.9432" y1="403.1281" y2="403.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.4791" x="531.5393" y="397.3191">read input</text></g><g class="message" data-participant-1="handler" data-participant-2="s3"><polygon fill="#181818" points="525.5393,430.8341,515.5393,434.8341,525.5393,438.8341,521.5393,434.8341" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="519.5393" x2="846.9432" y1="434.8341" y2="434.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3551" x="531.5393" y="429.0251">write result</text></g><g class="message" data-participant-1="handler" data-participant-2="kafka"><polygon fill="#181818" points="659.9614,462.5401,649.9614,466.5401,659.9614,470.5401,655.9614,466.5401" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="653.9614" x2="846.9432" y1="466.5401" y2="466.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.9361" x="665.9614" y="460.7311">task_result</text></g><g class="message" data-participant-1="kafka" data-participant-2="tm"><polygon fill="#181818" points="270.2421,494.2461,260.2421,498.2461,270.2421,502.2461,266.2421,498.2461" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="264.2421" x2="647.9614" y1="498.2461" y2="498.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.9361" x="276.2421" y="492.4371">task_result</text></g><g class="message" data-participant-1="tm" data-participant-2="api"><polygon fill="#181818" points="133.818,525.9521,123.818,529.9521,133.818,533.9521,129.818,529.9521" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="127.818" x2="258.2421" y1="529.9521" y2="529.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.4241" x="139.818" y="524.1431">update task status</text></g><!--SRC=[RPB1JiCm38RlUGfhf-s0EEp60Gc110ZG9hQT9w_nkh2kYsANYRV7QLBK0BVKtsVtTrgiv1pWld7KYZ4UWxZAUMm59dVBPtX4eGj-JG0PqBjIM2CVuGrRh2dqXfnAOQMp5HPJk2wTnUw3Ae6i9cLUAY-uFs9FZl7qJuW7nnwbEWmvREayOMkRp0xfR4pQ6Qvkus9m0yl5QWtNekFOn8e2EMazKErOACGNJMS3ubfHJRBnpHdjvlrLqMWapnLtFOEzQmYcFX2xkYKBAi-C2ghr-_oOssWoq6V_BH8RKemDevLHi-zsZUC3nEZZDgiirl90VTPgNb-HpNUM-mOmX0-aqLthE_c3Bi49gS1TKy0XK1oupVZN6cEKjaYNttch_qYAouBIiVa6]--></g></svg>